!function(){function a(a,n,t,e){var r=t/2,i=8*e,o=4*e,l=r-o/2,c=r+i,s=Math.asin(l/c),u=Math.sqrt(1-Math.pow(l/c,2))*c,v=t+i+o,d=a/2,f=n-v,h=document.createElement("canvas");h.width=a,h.height=v;var m=h.getContext("2d");return m.lineJoin=m.lineCap="round",m.translate(d,v-r),m.moveTo(-d+o,-l),m.lineTo(-u,-l),m.arc(0,0,c,-Math.PI+s,-s),m.lineTo(d-o,-l),m.strokeStyle="#555",m.lineWidth=o,m.stroke(),{paint:function(a){a.drawImage(h,0,f)}}}function n(a,n){var t=document.createElement("canvas");t.width=a,t.height=n;var e=t.getContext("2d");return{c:e,canvas:t,clear:function(){e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(0,0,a,n)}}}function t(a,n){function t(n,t){var i=a[n];if(i){var o=i[t];o&&!r[o.id]&&(r[o.id]=o,o.shape.isBomb&&e(o))}}function e(a){var n=a.colNumber,e=a.rowNumber;t(n-2,e),t(n+2,e),t(n-1,e-1),t(n+1,e-1),t(n-1,e+1),t(n+1,e+1)}for(var r={},i=0;i<n.length;i++){var o=n[i];r[o.id]=o,o.shape.isBomb&&e(o)}return r}function e(a,n){for(var t=24,e=[],r=0;t>r;r++)e.push(w(a,n,t,r));return e}function r(a,n,t,e){var r,i;t.isBomb?(r=3*e,i=10):(r=2*e,i=5);for(var o=0,l=t.getParticleCanvases(i),c=[],s=0;i>s;s++){var u=I(r,r),v=I(r,r);c.push({canvases:l[s],x:a+u[0],y:n+u[1],dx:v[0],dy:v[1]})}return{id:Math.random(),paint:function(e){o||t.paint(e,a,n);for(var r in c){var i=c[r],l=i.canvases[o],s=i.x-l.width/2,u=i.y-l.height/2;e.drawImage(l,s,u)}},tick:function(){for(var a in c){var n=c[a];n.x+=n.dx,n.y+=n.dy}return o++,o==l[0].length?!0:void 0}}}function i(a){var n={};return{add:function(t,e,i){var o=r(t,e,i,a);n[o.id]=o},paint:function(a){for(var t in n)n[t].paint(a)},tick:function(){for(var a in n)n[a].tick()&&delete n[a]}}}function o(a,n,t){var e=[];for(var r in a){var i=a[r];for(var o in n){var l=n[o],c=l.x-i.x,s=l.y-i.y,u=Math.sqrt(c*c+s*s);if(t>u){e.push({movingBubble:i,stillBubble:l,distance:u});break}}}return e}function l(a){var n={};for(var t in a){var e=a[t];n[t]={};for(var r in e){var i=e[r];n[t][i.rowNumber]=i}}return n}function c(a){var n={};return{add:function(t,e,r){var i=s(t,e,r,a);n[i.id]=i},paint:function(a){for(var t in n)n[t].paint(a)},tick:function(){for(var a in n)n[a].tick()&&delete n[a]}}}function s(a,n,t,e){var r=32,i=r,o=1,l=6*(2*Math.random()-1)*e,c=0;return{id:Math.random(),paint:function(e){e.globalAlpha=o,t.paint(e,a,n),e.globalAlpha=1},tick:function(){return a+=l,n+=c,c+=e,l*=.95,i--,i?void(o=i/r):!0}}}function u(a,n){function t(a,t){var r=n[a];if(r){var i=r[t];i&&!o[i.id]&&e(i)}}function e(a){c.push(a),o[a.id]=a}function r(){var a=c.shift();if(a){var n=a.colNumber,t=a.rowNumber;if(l.push(a),5!=l.length){y(i);for(var e in i)i[e](n,t);r()}}}var i=[function(a,n){t(a-2,n)},function(a,n){t(a+2,n)},function(a,n){t(a-1,n-1)},function(a,n){t(a+1,n-1)},function(a,n){t(a-1,n+1)},function(a,n){t(a+1,n+1)}],o={},l=[],c=[];return e(a),r(),l}function v(a,n,t,e,r,i){var o=2*Math.max(a,n),l=a/2,c=n-t;return{paint:function(a,n,t,r){var s=n-l,u=t-c,v=Math.sqrt(s*s+u*u),d=s*o/v,f=u*o/v;-i>u/v&&(a.beginPath(),a.moveTo(l,c),a.lineTo(l+d,c+f),a.lineWidth=e,a.lineCap="round",a.strokeStyle=r,a.stroke())}}}function d(a,n,t,e,r){var i=t+", "+e+"%, "+r+"%",o=n.createLinearGradient(0,0,0,a);return o.addColorStop(0,"hsla("+i+", 0)"),o.addColorStop(1,"hsla("+i+", 0.2)"),o}function f(a,n,t){var e=(a-a*t)/2,r=(n-n*t)/2,i=document.createElement("canvas");return i.className="MainCanvas",i.width=a,i.height=n,i.style.transform="scale("+1/t+") translate("+e+"px, "+r+"px)",i}function h(){function t(){var a=Tn.get();return b(en,rn,_,a)}function e(a){tt?tt=!1:d(a)}function r(a){tt?tt=!1:s(a)}function l(a){Wn.add(a),rt++,rt===it&&(rt=0,Wn.shift())}function s(){if(zn){var a=Fn-en/2,n=rn-_-Jn,t=Math.sqrt(a*a+n*n),e=a/t,r=-n/t;if(-Vn>r&&$n&&$n.ready){var i=$n.shape;Yn.add(i,e,r),$n=null,_n=10,nt=null,zn=!1}}}function u(){return!$n||!$n.ready||Hn.showing||Hn.hiding?!0:Hn.visible?(Hn.hide(),Wn.reset(),qn.reset(),!0):void 0}function d(a){Fn=a.clientX*y-Un,Jn=a.clientY*y-Kn}function h(a){Fn=a.clientX*y-Un,Jn=a.clientY*y-Kn,zn=!0}function m(){I(function(){var a=Date.now();Ln.clear(),Qn.clearRect(0,0,en,rn),Dn.paint(An),qn.paint(An),Wn.paint(An),zn&&Zn.paint(An,Fn,Jn,$n.shape.laserGradient),$n&&$n.paint(An),Yn.paint(An),On.paint(An),Rn.paint(An),Hn.visible&&Hn.paint(An),Qn.drawImage(Ln.canvas,0,0),cn.innerHTML="repaint "+(Date.now()-a),m()})}function g(a){var n;return n=a.isBomb?"bomb":"normal",Gn[a.colorName][n]}function C(){localStorage.state=JSON.stringify({width:S,height:T,dpp:y,score:qn.get(),stillCanvas:Wn.getData(),nextBubbleColorName:$n?$n.shape.colorName:null,nextBubbleIsInjection:$n?$n.shape.isInjection:null})}function w(){for(var a=0;2>a;a++){var n=Date.now();Wn.tick(),Yn.tick(),On.tick(),Rn.tick(),Hn.visible&&Hn.tick();for(var e=o(Yn.movingBubbles,Wn.stillBubbles,tn),r=0;r<e.length;r++){var i=e[r],c=i.movingBubble;c.shiftBack(X-i.distance),l(c),Yn.remove(c)}_n?(_n--,_n||($n=t())):$n&&$n.tick(),ln.innerHTML="tick "+(Date.now()-n)}}function x(){"hidden"==document.visibilityState&&C()}var I=window.requestAnimationFrame;I||(I=window.mozRequestAnimationFrame);var y=devicePixelRatio,S=innerWidth*y,T=innerHeight*y,q=9+Math.floor((S-300)/130),X=Math.floor(S/q),$=X/40,_=X/2,an=Math.sin(Math.PI/3)*X,nn=_-1*$,tn=2*nn,en=S-S%X,rn=T-T%X,on="MainPanel",ln=document.createElement("div"),cn=document.createElement("div"),sn=document.createElement("div");sn.className=on+"-debug",sn.appendChild(cn),sn.appendChild(ln);var un=E(nn,$),vn=G(rn,nn,$),dn=R(nn,$),fn=j(rn,nn,$),hn=H(nn,$),mn=L(rn,nn,$),pn=W(nn,$),gn=A(rn,nn,$),bn=F(nn,$),Cn=D(rn,nn,$),wn=J(nn,$),xn=O(rn,nn,$),Mn=Y(nn,$),In=z(rn,nn,$,vn),Nn=U(rn,nn,$,fn),Pn=K(rn,nn,$,mn),yn=Q(rn,nn,$,gn),Sn=V(rn,nn,$,Cn),kn=Z(rn,nn,$,xn),Bn=un.getParticleCanvases(1).concat(vn.getParticleCanvases(1)).concat(fn.getParticleCanvases(1)).concat(mn.getParticleCanvases(1)).concat(gn.getParticleCanvases(1)).concat(Cn.getParticleCanvases(1)).concat(xn.getParticleCanvases(1)),En=B(rn,nn,Bn),Gn={anyColor:{normal:En},black:{normal:un},blue:{normal:vn,bomb:dn,injection:In},green:{normal:fn,bomb:hn,injection:Nn},red:{normal:mn,bomb:pn,injection:Pn},violet:{normal:gn,bomb:bn,injection:yn},white:{normal:Cn,bomb:wn,injection:Sn},yellow:{normal:xn,bomb:Mn,injection:kn}},Tn=M();Tn.add(10,En),Tn.add(40,vn),Tn.add(1,In),Tn.add(40,fn),Tn.add(1,Nn),Tn.add(40,mn),Tn.add(1,Pn),Tn.add(40,gn),Tn.add(1,yn),Tn.add(40,Cn),Tn.add(1,Sn),Tn.add(40,xn),Tn.add(1,kn);var jn=M();jn.add(9,un),jn.add(13,vn),jn.add(1,dn),jn.add(13,fn),jn.add(1,hn),jn.add(13,mn),jn.add(1,pn),jn.add(13,gn),jn.add(1,bn),jn.add(13,Cn),jn.add(1,wn),jn.add(13,xn),jn.add(1,Mn);var Ln=n(en,rn),An=Ln.c,Dn=a(en,rn,X,$),On=i($),Rn=c($),qn=P(rn,X,$),Hn=N(en,rn,$),Wn=k(rn,_,q,X,jn.get,an,On.add,Rn.add,qn.add,function(){var a=qn.get();Hn.show(a,at),a>at&&(at=a,localStorage.highScore=at)});Wn.reset();var Fn,Jn,Yn=p(en,rn,_,tn,l,$),zn=!1,Xn=f(S,T,y),Un=(S-en)/2,Kn=(T-rn)/2,Qn=Xn.getContext("2d");Qn.translate(Un,Kn);var Vn=.2,Zn=v(en,rn,_,tn,Qn,Vn),$n=t(),_n=0,at=parseInt(localStorage.highScore,10);isFinite(at)||(at=0);var nt=null,tt=!1,et=document.createElement("div");et.className=on,et.appendChild(Xn),et.appendChild(sn),et.addEventListener("mousedown",function(a){if(tt)tt=!1;else{if(u())return;zn||h(a)}}),et.addEventListener("touchstart",function(a){if(!u()&&!zn){var n=a.changedTouches[0];nt=n.identifier,h(n)}}),et.addEventListener("touchmove",function(a){tt=!0,a.preventDefault();for(var n=a.changedTouches,t=0;t<n.length;t++){var e=n[t];e.identifier===nt&&d(e)}}),et.addEventListener("touchend",function(a){tt=!0,a.preventDefault();for(var n=a.changedTouches,t=0;t<n.length;t++){var e=n[t];e.identifier===nt&&s(e)}});var rt=0,it=2+Math.ceil(q/2);document.addEventListener("visibilitychange",x),addEventListener("beforeunload",C),addEventListener("mousemove",e),addEventListener("mouseup",r);var ot=setInterval(w,30),lt=setInterval(C,3e4);return m(),function(){var a=localStorage.state;if(a){var n=JSON.parse(a);if(n.width==S&&n.height==T&&n.dpp==y){qn.add(n.score),Wn.setData(n.stillCanvas,g);var t=n.nextBubbleColorName;if(t){var e;e=n.nextBubbleIsInjection?Gn[t].injection:Gn[t].normal,$n=b(en,rn,_,e)}}}}(),{element:et,destroy:function(){clearInterval(ot),clearInterval(lt),removeEventListener("beforeunload",C),removeEventListener("mousemove",e),removeEventListener("mouseup",r),document.removeEventListener("visibilitychange",x)}}}function m(a,n,t,e,r,i,o,l){var c=20*l,s=i*c,u=o*c,v={id:Math.random(),shape:r,x:a/2,y:n-t,paint:function(a){r.paint(a,v.x,v.y)},shiftBack:function(n){var e=Math.sqrt(i*i+o*o);v.x-=i*n/e,v.y-=o*n/e;var r=t-v.x;r>0&&(v.x+=2*r);var l=v.x+t-a;l>0&&(v.x-=2*l)},tick:function(){v.x+=s,v.y+=u;var n=t-v.x;n>0&&(v.x+=2*n,i=-i,s=i*c);var e=v.x+t-a;return e>0&&(v.x-=2*e,i=-i,s=i*c),v.y<=t?(v.y=t,!0):void 0}};return v}function p(a,n,t,e,r,i){function o(a){delete l[a.id]}var l={};return{movingBubbles:l,remove:o,add:function(r,o,c){var s=m(a,n,t,e,r,o,c,i);l[s.id]=s},paint:function(a){for(var n in l)l[n].paint(a)},tick:function(){for(var a in l){var n=l[a];n.tick()&&(r(n),o(n))}}}}function g(a,n){function t(a,t,i){var o=n[a];if(o){var l=o[t];!l||r[l.id]||l.shape.isBlack||(i.isAnyColor||l.shape.isAnyColor||l.shape.colorName==i.colorName)&&e(l)}}function e(a){var n=a.colNumber,e=a.rowNumber;r[a.id]=a,i.push(a);var o=a.shape;t(n-2,e,o),t(n+2,e,o),t(n-1,e-1,o),t(n+1,e-1,o),t(n-1,e+1,o),t(n+1,e+1,o)}var r={},i=[];return e(a),i}function b(a,n,t,e){var r=a/2,i=n+t,o=8,l=0,c=2*t/o,s={ready:!1,shape:e,paint:function(a){a.globalAlpha=l/o,e.paint(a,r,i),a.globalAlpha=1},tick:function(){o>l?(l++,i-=c):s.ready=!0}};return s}function C(a){function n(a,n){var e=i[a];if(e){var o=e[n];if(o){var l=o.id;v[l]||(v[l]=!0,delete r[l],t(o))}}}function t(a){var t=a.colNumber,e=a.rowNumber;n(t-1,e-1),n(t+1,e-1),n(t-2,e),n(t+2,e),n(t-1,e+1),n(t+1,e+1)}var e=[],r={},i={};for(var o in a){var l=a[o];i[o]={};for(var c in l){var s=l[c],u=s.rowNumber;u?(i[o][u]=s,r[s.id]=s):e.push(s)}}for(var v={},o=0;o<e.length;o++)t(e[o]);return r}function w(a,n,t,e){var r=6*a,i=r*(t-e)/t,o=i+1,l=document.createElement("canvas");l.width=l.height=2*o;var c=l.getContext("2d");return c.fillStyle=n,c.translate(o,o),c.arc(0,0,i,0,2*Math.PI),c.fill(),l}function x(a,n){for(var t=16,e=[],r=0;t>r;r++)e.push(w(a,n,t,r));return e}function M(){var a=[],n=0;return{add:function(t,e){a.push({chance:t,shape:e}),n+=t},get:function(){var t=Math.random()*n;for(var e in a){var r=a[e];if(t-=r.chance,0>t)return r.shape}}}}function I(a,n){var t=Math.random()*Math.PI*2,e=a+Math.random()*n,r=Math.cos(t)*e,i=Math.sin(t)*e;return[r,i]}function N(a,n,t){function e(){c&&c--,c||(b.visible=!1,b.hiding=!1),u=c/s,v=Math.pow(u,.25)}function r(){s>c?c++:b.showing=!1,u=c/s,v=Math.pow(u,.25)}var i,o,l,c=0,s=24,u=0,v=0,d=48*t,f="bold "+d+"px Arial, sans-serif",h=36*t,m="bold "+h+"px Arial, sans-serif",p=22*t,g=p+"px Arial, sans-serif",b={tick:r,hiding:!1,showing:!1,visible:!1,hide:function(){b.showing=!1,b.tick=e,b.hiding=!0},paint:function(t){t.fillStyle="rgba(0, 0, 0, "+.7*v+")",t.fillRect(0,0,a,n),t.fillStyle="rgba(255, 255, 255, "+v+")",t.textAlign="center",t.textBaseline="top";var e=a/2,r=n/4+n*v/4-1.5*d;t.save(),t.translate(e,r),t.font=g,t.fillText("YOUR SCORE",0,0),t.translate(0,p),t.font=f,t.fillText(i,0,0),t.translate(0,d+p),l?(t.font=m,t.fillStyle="hsl(60, 90%, 70%)",t.fillText("NEW RECORD!",0,0)):(t.font=g,t.fillText("HIGH SCORE",0,0),t.translate(0,p),t.font=f,t.fillText(o,0,0)),t.restore()},show:function(a,n){i=a,o=n,l=i>o,b.visible=!0,b.hiding=!1,b.tick=r,b.showing=!0}};return b}function P(a,n,t){var e=0,r=10*t,i=a-n+10*t,o="bold "+26*t+"px Arial, sans-serif";return{add:function(a){e+=a},get:function(){return e},paint:function(a){a.textBaseline="top",a.font=o,a.textAlign="left",a.fillStyle="#777",a.fillText(e,r,i)},reset:function(){e=0}}}function y(a){for(var n=0;n<a.length;n++){var t=a[n],e=n+Math.floor(Math.random()*(a.length-n));a[n]=a[e],a[e]=t}return a}function S(a,n,t,e,r){var i={colNumber:r,id:Math.random(),rowNumber:e,shape:t,x:a,y:n,paint:function(n){i.shape.paint(n,a,i.y)}};return i}function k(a,n,e,r,i,o,c,s,v,d){function f(a){var n=a.id;P[n]=a,k[a.colNumber][n]=a,h(a)}function h(a){!j.gameOver&&a.rowNumber>=E&&(j.gameOver=!0,d())}function m(a,t){for(var e=n+a*n,l=n-o-I,c=0;t>c;c++){var s=i(),u=S(e,l,s,0,a);f(u),p(u,x+N),e+=r,a+=2}}function p(a,n){var t=a.id;y[t]?y[t].steps+=n:y[t]={steps:n,bubble:a}}function b(a){var n=a.id;delete P[n],delete k[a.colNumber][n]}function w(){for(var a in P){var n=P[a];p(n,x),n.rowNumber++,h(n)}G?m(1,e-1):m(0,e),G=!G,I+=o,N+=x}for(var x=4,M=o/x,I=0,N=0,P={},y={},k={},B=0;2*e-1>B;B++)k[B]={};var E=Math.floor((a-r)/o),G=!1,T=3;window.stillBubbles=P,window.columns=k;var j={gameOver:!1,shift:w,stillBubbles:P,add:function(a){var e=a.y,i=N*M-n,d=Math.round((e+i)/o);e=d*o-i;var h=(d+(G?1:0))%2?n:0,m=a.x;m=Math.round((m-h)/r)*r+h;var w=a.shape,x=w.isInjection;x&&(w=a.shape=w.normalShape);var I=Math.floor(m/n)-1,P=S(m,e,w,d,I);f(P),N&&p(P,N);var y=l(k);if(x){var B=u(P,y);for(var E in B)B[E].shape=w}else{var j=g(P,y);if(j.length>=T){var L=t(y,j),A=2*-(T-1);for(var E in L){var D=L[E];b(D),c(D.x,D.y,D.shape),A+=2}var O=C(k);for(var E in O){var R=O[E];b(R),s(R.x,R.y,R.shape),A+=1}v(A)}}},getData:function(){var a={odd:G,bubbles:[],shiftIndex:N};for(var n in P){var t=P[n],e=t.shape;a.bubbles.push({colNumber:t.colNumber,rowNumber:t.rowNumber,shape:{colorName:e.colorName,isBomb:e.isBomb}})}return a},isOdd:function(){return G},paint:function(a){for(var n in P)P[n].paint(a)},reset:function(){j.gameOver=!1,y={};for(var a in P)delete P[a];for(var a in k){var n=k[a];for(var a in n)delete n[a]}w(),w(),w()},setData:function(a,t){G=a.odd,N=Math.max(0,Math.floor(a.shiftIndex)),isFinite(N)||(N=0),I=N*o;for(var e in P)delete P[e];for(var e in k){var r=k[e];for(var e in r)delete r[e]}for(var e in y)delete y[e];var i=a.bubbles;for(var e in i){var l=i[e],c=t(l.shape);if(c){var s=l.colNumber,u=l.rowNumber,v=n+s*n,d=n+u*o,h=S(v,d,c,u,s);f(h)}}},tick:function(){for(var a in y){var n=y[a];n.steps--,n.bubble.y+=M,n.steps||(delete y[a],a--)}N&&(N--,I-=M)}};return j}function B(a,n,t){function e(){var a=document.createElement("canvas");a.width=a.height=i;for(var t=a.getContext("2d"),e=t.createImageData(i,i),o=0;i>o;o++)for(var l=0;i>l;l++){var c=l-r,s=o-r,u=Math.sqrt(c*c+s*s)/n,v=Math.atan(s/c);0>c&&(v+=Math.PI),v-=.3;var d=0,f=0,h=0;d=Math.abs(v-Math.PI/2)-1,f=-Math.abs(v-Math.PI/3)+2,h=-Math.abs(v-2*Math.PI/3)+2,d=255*Math.max(0,Math.min(1,1-d*u)),f=255*Math.max(0,Math.min(1,1-f*u)),h=255*Math.max(0,Math.min(1,1-h*u)),d=16+223*d/256,f=16+223*f/256,h=16+223*h/256;var m=4*(o*i+l);e.data[m]=d,e.data[m+1]=f,e.data[m+2]=h,e.data[m+3]=255}return t.putImageData(e,0,0),a}var r=n+2,i=Math.floor(2*r),o=document.createElement("canvas");o.width=o.height=i;var l=o.getContext("2d");return l.arc(r,r,n,0,2*Math.PI),l.fill(),l.globalCompositeOperation="source-atop",l.drawImage(e(),0,0),{isAnyColor:!0,colorName:"anyColor",laserGradient:function(){for(var n=l.createLinearGradient(0,0,0,a),t=0;6>=t;t++){var e=t/6,r=360*e,i=.2*e;n.addColorStop(e,"hsla("+r+", 100%, 50%, "+i+")")}return n}(),particleCanvases:t,getParticleCanvases:function(a){for(var n=[],e=0;a>e;e++){var r=Math.floor(Math.random()*t.length);n.push(t[r])}return n},paint:function(a,n,t){a.drawImage(o,n-r,t-r)}}}function E(a,n){var t="hsl(0, 0%, 40%)",e=a+2,r=T(t,"hsl(0, 0%, 15%)",a),i=x(n,t);return{color:t,colorName:"black",isBlack:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(i);return n},paint:function(a,n,t){a.drawImage(r,n-e,t-e)}}}function G(a,n,t){var e="hsl(220, 100%, 70%)",r=n+2,i=T(e,"hsl(220, 100%, 55%)",n),o=i.getContext("2d"),l=x(t,e);return{color:e,colorName:"blue",laserGradient:d(a,o,220,100,70),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function T(a,n,t){var e=t+2,r=document.createElement("canvas");r.width=r.height=2*e;var i=r.getContext("2d"),o=-t/2,l=i.createRadialGradient(0,o,0,0,o,2*t);return l.addColorStop(0,a),l.addColorStop(.5,n),l.addColorStop(1,a),i.fillStyle=l,i.translate(e,e),i.arc(0,0,t,0,2*Math.PI),i.fillStyle=l,i.fill(),r}function j(a,n,t){var e="hsl(100, 100%, 40%)",r=n+2,i=T(e,"hsl(100, 100%, 30%)",n),o=i.getContext("2d"),l=x(t,e);return{color:e,colorName:"green",laserGradient:d(a,o,100,100,40),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function L(a,n,t){var e="hsl(5, 100%, 65%)",r=n+2,i=T(e,"hsl(5, 100%, 40%)",n),o=i.getContext("2d"),l=x(t,e);return{color:e,colorName:"red",laserGradient:d(a,o,5,100,65),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function A(a,n,t){var e="hsl(300, 100%, 60%)",r=n+2,i=T(e,"hsl(300, 100%, 40%)",n),o=i.getContext("2d"),l=x(t,e);return{color:e,colorName:"violet",laserGradient:d(a,o,300,100,60),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function D(a,n,t){var e="hsl(0, 0%, 90%)",r=n+2,i=T(e,"hsl(0, 0%, 70%)",n),o=i.getContext("2d"),l=x(t,e);return{color:e,colorName:"white",laserGradient:d(a,o,0,0,90),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function O(a,n,t){var e="hsl(60, 90%, 70%)",r=n+2,i=T(e,"hsl(60, 90%, 40%)",n),o=i.getContext("2d"),l=x(t,e);return{color:e,colorName:"yellow",laserGradient:d(a,o,60,90,70),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function R(a,n){var t="hsl(220, 100%, 70%)",r=a+2,i=T(t,"hsl(220, 100%, 55%)",a);q(i,a,"hsla(220, 85%, 25%, 0.6)");var o=e(n,t);return{color:t,colorName:"blue",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function q(a,n,t){var e=a.getContext("2d");e.beginPath(),e.arc(0,0,.2*n,0,2*Math.PI),e.fillStyle=t,e.fill();var r=3,i=2*Math.PI/r,o=.6*n,l=Math.PI/3;e.lineWidth=.6*n,e.beginPath(),e.rotate(-Math.PI/2-l/2);for(var c=0;r>c;c++)e.moveTo(o,0),e.arc(0,0,o,0,l),e.rotate(i);e.strokeStyle=t,e.stroke()}function H(a,n){var t="hsl(100, 100%, 40%)",r=a+2,i=T(t,"hsl(100, 100%, 30%)",a);q(i,a,"hsla(100, 85%, 15%, 0.6)");var o=e(n,t);return{color:t,colorName:"green",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function W(a,n){var t="hsl(5, 100%, 65%)",r=a+2,i=T(t,"hsl(5, 100%, 40%)",a);q(i,a,"hsla(5, 85%, 20%, 0.6)");var o=e(n,t);return{color:t,colorName:"red",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function F(a,n){var t="hsl(300, 100%, 60%)",r=a+2,i=T(t,"hsl(300, 100%, 40%)",a);q(i,a,"hsla(300, 85%, 20%, 0.6)");var o=e(n,t);return{color:t,colorName:"violet",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function J(a,n){var t="hsl(0, 0%, 90%)",r=a+2,i=T(t,"hsl(0, 0%, 70%)",a);q(i,a,"hsla(0, 0%, 25%, 0.5)");var o=e(n,t);return{color:t,colorName:"white",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function Y(a,n){var t="hsl(60, 90%, 70%)",r=a+2,i=T(t,"hsl(60, 90%, 40%)",a);q(i,a,"hsla(60, 80%, 15%, 0.6)");var o=e(n,t);return{color:t,colorName:"yellow",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function z(a,n,t,e){var r="hsl(220, 100%, 70%)",i=n+2,o=T(r,"hsl(220, 100%, 55%)",n);return X(o,t,"hsla(220, 85%, 20%, 0.6)"),{color:r,colorName:"blue",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function X(a,n,t){function e(a,n){i+=a,o+=n,r.lineTo(i,o)}var r=a.getContext("2d"),i=-11,o=-7;r.scale(n,n),r.beginPath(),r.moveTo(i,o),e(4,-4),e(1,1),e(-1,1),e(3.5,3.5),e(3.5,-3.5),e(1,1),e(-1.5,1.5),e(9,9),e(-2.5,2.5),e(3.5,3.5),e(0,2),e(-4.5,-4.5),e(-2.5,2.5),e(-9,-9),e(-1.5,1.5),e(-1,-1),e(3.5,-3.5),e(-3.5,-3.5),e(-1,1),r.closePath(),r.fillStyle=t,r.fill()}function U(a,n,t,e){var r="hsl(100, 100%, 40%)",i=n+2,o=T(r,"hsl(100, 100%, 30%)",n);return X(o,t,"hsla(100, 85%, 10%, 0.6)"),{color:r,colorName:"green",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function K(a,n,t,e){var r="hsl(5, 100%, 65%)",i=n+2,o=T(r,"hsl(5, 100%, 40%)",n);return X(o,t,"hsla(5, 85%, 15%, 0.6)"),{color:r,colorName:"red",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function Q(a,n,t,e){var r="hsl(300, 100%, 60%)",i=n+2,o=T(r,"hsl(300, 100%, 40%)",n);return X(o,t,"hsla(300, 85%, 15%, 0.6)"),{color:r,colorName:"violet",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function V(a,n,t,e){var r="hsl(0, 0%, 90%)",i=n+2,o=T(r,"hsl(0, 0%, 70%)",n);return X(o,t,"hsla(0, 0%, 20%, 0.5)"),{color:r,colorName:"white",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function Z(a,n,t,e){var r="hsl(60, 90%, 70%)",i=n+2,o=T(r,"hsl(60, 90%, 40%)",n);return X(o,t,"hsla(60, 80%, 10%, 0.6)"),{color:r,colorName:"yellow",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}!function(){function a(){n=h(),t.appendChild(n.element)}var n,t=document.body;a(),addEventListener("resize",function(){n.destroy(),document.body.removeChild(n.element),n=h(),t.appendChild(n.element)})}()}();
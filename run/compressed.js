!function(){function a(a,n,t,e){var r=t/2,i=8*e,o=4*e,l=r-o/2,c=r+i,s=Math.asin(l/c),u=Math.sqrt(1-Math.pow(l/c,2))*c,v=t+i+o,d=a/2,f=n-v,h=document.createElement("canvas");h.width=a,h.height=v;var m=h.getContext("2d");return m.lineJoin=m.lineCap="round",m.translate(d,v-r),m.moveTo(-d+o,-l),m.lineTo(-u,-l),m.arc(0,0,c,-Math.PI+s,-s),m.lineTo(d-o,-l),m.strokeStyle="#555",m.lineWidth=o,m.stroke(),{paint:function(a){a.drawImage(h,0,f)}}}function n(a,n){var t=document.createElement("canvas");t.width=a,t.height=n;var e=t.getContext("2d");return{c:e,canvas:t,clear:function(){e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(0,0,a,n)}}}function t(a,n){function t(a,n){var t=r[a];if(t){var i=t[n];i&&!s[i.id]&&(s[i.id]=i,i.shape.isBomb&&e(i))}}function e(a){var n=a.colNumber,e=a.rowNumber;t(n-2,e),t(n+2,e),t(n-1,e-1),t(n+1,e-1),t(n-1,e+1),t(n+1,e+1)}var r={};for(var i in a){var o=a[i];r[i]={};for(var l in o){var c=o[l];r[i][c.rowNumber]=c}}for(var s={},i=0;i<n.length;i++){var u=n[i];s[u.id]=u,u.shape.isBomb&&e(u)}return s}function e(a,n){for(var t=24,e=[],r=0;t>r;r++)e.push(C(a,n,t,r));return e}function r(a,n,t,e){var r,i;t.isBomb?(r=3*e,i=10):(r=2*e,i=5);for(var o=0,l=t.getParticleCanvases(i),c=[],s=0;i>s;s++){var u=M(r,r),v=M(r,r);c.push({canvases:l[s],x:a+u[0],y:n+u[1],dx:v[0],dy:v[1]})}return{id:Math.random(),paint:function(e){o||t.paint(e,a,n);for(var r in c){var i=c[r],l=i.canvases[o],s=i.x-l.width/2,u=i.y-l.height/2;e.drawImage(l,s,u)}},tick:function(){for(var a in c){var n=c[a];n.x+=n.dx,n.y+=n.dy}return o++,o==l[0].length?!0:void 0}}}function i(a){var n={};return{add:function(t,e,i){var o=r(t,e,i,a);n[o.id]=o},paint:function(a){for(var t in n)n[t].paint(a)},tick:function(){for(var a in n)n[a].tick()&&delete n[a]}}}function o(a,n,t){var e=[];for(var r in a){var i=a[r];for(var o in n){var l=n[o],c=l.x-i.x,s=l.y-i.y,u=Math.sqrt(c*c+s*s);if(t>u){e.push({movingBubble:i,stillBubble:l,distance:u});break}}}return e}function l(a){var n={};return{add:function(t,e,r){var i=c(t,e,r,a);n[i.id]=i},paint:function(a){for(var t in n)n[t].paint(a)},tick:function(){for(var a in n)n[a].tick()&&delete n[a]}}}function c(a,n,t,e){var r=32,i=r,o=1,l=6*(2*Math.random()-1)*e,c=0;return{id:Math.random(),paint:function(e){e.globalAlpha=o,t.paint(e,a,n),e.globalAlpha=1},tick:function(){return a+=l,n+=c,c+=e,l*=.95,i--,i?void(o=i/r):!0}}}function s(a,n){function t(a,n){var t=o[a];if(t){var r=t[n];r&&!v[r.id]&&e(r)}}function e(a){f.push(a),v[a.id]=a}function r(){var a=f.shift();if(a){var n=a.colNumber,t=a.rowNumber;if(d.push(a),5!=d.length){P(i);for(var e in i)i[e](n,t);r()}}}var i=[function(a,n){t(a-2,n)},function(a,n){t(a+2,n)},function(a,n){t(a-1,n-1)},function(a,n){t(a+1,n-1)},function(a,n){t(a-1,n+1)},function(a,n){t(a+1,n+1)}],o={};for(var l in n){var c=n[l];o[l]={};for(var s in c){var u=c[s];o[l][u.rowNumber]=u}}var v={},d=[],f=[];return e(a),r(),d}function u(a,n,t,e,r,i){var o=2*Math.max(a,n),l=a/2,c=n-t;return{paint:function(a,n,t,r){var s=n-l,u=t-c,v=Math.sqrt(s*s+u*u),d=s*o/v,f=u*o/v;-i>u/v&&(a.beginPath(),a.moveTo(l,c),a.lineTo(l+d,c+f),a.lineWidth=e,a.lineCap="round",a.strokeStyle=r,a.stroke())}}}function v(a,n,t,e,r){var i=t+", "+e+"%, "+r+"%",o=n.createLinearGradient(0,0,0,a);return o.addColorStop(0,"hsla("+i+", 0)"),o.addColorStop(1,"hsla("+i+", 0.2)"),o}function d(a,n,t){var e=(a-a*t)/2,r=(n-n*t)/2,i=document.createElement("canvas");return i.className="MainCanvas",i.width=a,i.height=n,i.style.transform="scale("+1/t+") translate("+e+"px, "+r+"px)",i}function f(){function t(){var a=Gn.get();return g(tn,en,$,a)}function e(a){nt?nt=!1:f(a)}function r(a){nt?nt=!1:s(a)}function c(a){Hn.add(a),et++,et===rt&&(et=0,Hn.shift())}function s(){if(Yn){var a=Wn-tn/2,n=en-$-Fn,t=Math.sqrt(a*a+n*n),e=a/t,r=-n/t;if(-Qn>r&&Zn&&Zn.ready){var i=Zn.shape;Jn.add(i,e,r),Zn=null,$n=10,at=null,Yn=!1}}}function v(){return!Zn||!Zn.ready||qn.showing||qn.hiding?!0:qn.visible?(qn.hide(),Hn.reset(),Rn.reset(),!0):void 0}function f(a){Wn=a.clientX*P-zn,Fn=a.clientY*P-Un}function h(a){Wn=a.clientX*P-zn,Fn=a.clientY*P-Un,Yn=!0}function p(){requestAnimationFrame(function(){var a=Date.now();jn.clear(),Kn.clearRect(0,0,tn,en),An.paint(Ln),Rn.paint(Ln),Hn.paint(Ln),Yn&&Vn.paint(Ln,Wn,Fn,Zn.shape.laserGradient),Zn&&Zn.paint(Ln),Jn.paint(Ln),Dn.paint(Ln),On.paint(Ln),qn.visible&&qn.paint(Ln),Kn.drawImage(jn.canvas,0,0),ln.innerHTML="repaint "+(Date.now()-a),p()})}function b(a){var n;return n=a.isBomb?"bomb":"normal",En[a.colorName][n]}function C(){localStorage.state=JSON.stringify({width:y,height:G,dpp:P,score:Rn.get(),stillCanvas:Hn.getData(),nextBubbleColorName:Zn?Zn.shape.colorName:null,nextBubbleIsInjection:Zn?Zn.shape.isInjection:null})}function w(){for(var a=0;2>a;a++){var n=Date.now();Hn.tick(),Jn.tick(),Dn.tick(),On.tick(),qn.visible&&qn.tick();for(var e=o(Jn.movingBubbles,Hn.stillBubbles,nn),r=0;r<e.length;r++){var i=e[r],l=i.movingBubble;l.shiftBack(X-i.distance),c(l),Jn.remove(l)}$n?($n--,$n||(Zn=t())):Zn&&Zn.tick(),on.innerHTML="tick "+(Date.now()-n)}}function M(){"hidden"==document.visibilityState&&C()}var P=devicePixelRatio,y=innerWidth*P,G=innerHeight*P,R=9+Math.floor((y-300)/130),X=Math.floor(y/R),Z=X/40,$=X/2,_=Math.sin(Math.PI/3)*X,an=$-1*Z,nn=2*an,tn=y-y%X,en=G-G%X,rn="MainPanel",on=document.createElement("div"),ln=document.createElement("div"),cn=document.createElement("div");cn.className=rn+"-debug",cn.appendChild(ln),cn.appendChild(on);var sn=B(an,Z),un=E(en,an,Z),vn=O(an,Z),dn=T(en,an,Z),fn=q(an,Z),hn=j(en,an,Z),mn=H(an,Z),pn=L(en,an,Z),gn=W(an,Z),bn=A(en,an,Z),Cn=F(an,Z),wn=D(en,an,Z),xn=J(an,Z),Mn=Y(en,an,Z,un),In=z(en,an,Z,dn),Nn=U(en,an,Z,hn),Pn=K(en,an,Z,pn),yn=Q(en,an,Z,bn),Sn=V(en,an,Z,wn),kn=sn.getParticleCanvases(1).concat(un.getParticleCanvases(1)).concat(dn.getParticleCanvases(1)).concat(hn.getParticleCanvases(1)).concat(pn.getParticleCanvases(1)).concat(bn.getParticleCanvases(1)).concat(wn.getParticleCanvases(1)),Bn=k(en,an,kn),En={anyColor:{normal:Bn},black:{normal:sn},blue:{normal:un,bomb:vn,injection:Mn},green:{normal:dn,bomb:fn,injection:In},red:{normal:hn,bomb:mn,injection:Nn},violet:{normal:pn,bomb:gn,injection:Pn},white:{normal:bn,bomb:Cn,injection:yn},yellow:{normal:wn,bomb:xn,injection:Sn}},Gn=x();Gn.add(10,Bn),Gn.add(40,un),Gn.add(1,Mn),Gn.add(40,dn),Gn.add(1,In),Gn.add(40,hn),Gn.add(1,Nn),Gn.add(40,pn),Gn.add(1,Pn),Gn.add(40,bn),Gn.add(1,yn),Gn.add(40,wn),Gn.add(1,Sn);var Tn=x();Tn.add(9,sn),Tn.add(13,un),Tn.add(1,vn),Tn.add(13,dn),Tn.add(1,fn),Tn.add(13,hn),Tn.add(1,mn),Tn.add(13,pn),Tn.add(1,gn),Tn.add(13,bn),Tn.add(1,Cn),Tn.add(13,wn),Tn.add(1,xn);var jn=n(tn,en),Ln=jn.c,An=a(tn,en,X,Z),Dn=i(Z),On=l(Z),Rn=N(en,X,Z),qn=I(tn,en,Z),Hn=S(en,$,R,X,Tn.get,_,Dn.add,On.add,Rn.add,function(){var a=Rn.get();qn.show(a,_n),a>_n&&(_n=a,localStorage.highScore=_n)});Hn.reset();var Wn,Fn,Jn=m(tn,en,$,nn,c,Z),Yn=!1,Xn=d(y,G,P),zn=(y-tn)/2,Un=(G-en)/2,Kn=Xn.getContext("2d");Kn.translate(zn,Un);var Qn=.2,Vn=u(tn,en,$,nn,Kn,Qn),Zn=t(),$n=0,_n=parseInt(localStorage.highScore,10);isFinite(_n)||(_n=0);var at=null,nt=!1,tt=document.createElement("div");tt.className=rn,tt.appendChild(Xn),tt.appendChild(cn),tt.addEventListener("mousedown",function(a){if(nt)nt=!1;else{if(v())return;Yn||h(a)}}),tt.addEventListener("touchstart",function(a){if(!v()&&!Yn){var n=a.changedTouches[0];at=n.identifier,h(n)}}),tt.addEventListener("touchmove",function(a){nt=!0,a.preventDefault();for(var n=a.changedTouches,t=0;t<n.length;t++){var e=n[t];e.identifier===at&&f(e)}}),tt.addEventListener("touchend",function(a){nt=!0,a.preventDefault();for(var n=a.changedTouches,t=0;t<n.length;t++){var e=n[t];e.identifier===at&&s(e)}});var et=0,rt=2+Math.ceil(R/2);document.addEventListener("visibilitychange",M),addEventListener("beforeunload",C),addEventListener("mousemove",e),addEventListener("mouseup",r);var it=setInterval(w,30);return p(),function(){var a=localStorage.state;if(a){var n=JSON.parse(a);if(n.width==y&&n.height==G&&n.dpp==P){Rn.add(n.score),Hn.setData(n.stillCanvas,b);var t=n.nextBubbleColorName;if(t){var e;e=n.nextBubbleIsInjection?En[t].injection:En[t].normal,Zn=g(tn,en,$,e)}}}}(),{element:tt,destroy:function(){clearInterval(it),removeEventListener("beforeunload",C),removeEventListener("mousemove",e),removeEventListener("mouseup",r),document.removeEventListener("visibilitychange",M)}}}function h(a,n,t,e,r,i,o,l){var c=20*l,s=i*c,u=o*c,v={id:Math.random(),shape:r,x:a/2,y:n-t,paint:function(a){r.paint(a,v.x,v.y)},shiftBack:function(n){var e=Math.sqrt(i*i+o*o);v.x-=i*n/e,v.y-=o*n/e;var r=t-v.x;r>0&&(v.x+=2*r);var l=v.x+t-a;l>0&&(v.x-=2*l)},tick:function(){v.x+=s,v.y+=u;var n=t-v.x;n>0&&(v.x+=2*n,i=-i,s=i*c);var e=v.x+t-a;return e>0&&(v.x-=2*e,i=-i,s=i*c),v.y<=t?(v.y=t,!0):void 0}};return v}function m(a,n,t,e,r,i){function o(a){delete l[a.id]}var l={};return{movingBubbles:l,remove:o,add:function(r,o,c){var s=h(a,n,t,e,r,o,c,i);l[s.id]=s},paint:function(a){for(var n in l)l[n].paint(a)},tick:function(){for(var a in l){var n=l[a];n.tick()&&(r(n),o(n))}}}}function p(a,n){function t(a,n,t){var i=r[a];if(i){var o=i[n];!o||s[o.id]||o.shape.isBlack||(t.isAnyColor||o.shape.isAnyColor||o.shape.colorName==t.colorName)&&e(o)}}function e(a){var n=a.colNumber,e=a.rowNumber;s[a.id]=a,u.push(a);var r=a.shape;t(n-2,e,r),t(n+2,e,r),t(n-1,e-1,r),t(n+1,e-1,r),t(n-1,e+1,r),t(n+1,e+1,r)}var r={};for(var i in n){var o=n[i];r[i]={};for(var l in o){var c=o[l];r[i][c.rowNumber]=c}}var s={},u=[];return e(a),u}function g(a,n,t,e){var r=a/2,i=n+t,o=8,l=0,c=2*t/o,s={ready:!1,shape:e,paint:function(a){a.globalAlpha=l/o,e.paint(a,r,i),a.globalAlpha=1},tick:function(){o>l?(l++,i-=c):s.ready=!0}};return s}function b(a){function n(a,n){var e=i[a];if(e){var o=e[n];if(o){var l=o.id;v[l]||(v[l]=!0,delete r[l],t(o))}}}function t(a){var t=a.colNumber,e=a.rowNumber;n(t-1,e-1),n(t+1,e-1),n(t-2,e),n(t+2,e),n(t-1,e+1),n(t+1,e+1)}var e=[],r={},i={};for(var o in a){var l=a[o];i[o]={};for(var c in l){var s=l[c],u=s.rowNumber;u?(i[o][u]=s,r[s.id]=s):e.push(s)}}for(var v={},o=0;o<e.length;o++)t(e[o]);return r}function C(a,n,t,e){var r=6*a,i=r*(t-e)/t,o=i+1,l=document.createElement("canvas");l.width=l.height=2*o;var c=l.getContext("2d");return c.fillStyle=n,c.translate(o,o),c.arc(0,0,i,0,2*Math.PI),c.fill(),l}function w(a,n){for(var t=16,e=[],r=0;t>r;r++)e.push(C(a,n,t,r));return e}function x(){var a=[],n=0;return{add:function(t,e){a.push({chance:t,shape:e}),n+=t},get:function(){var t=Math.random()*n;for(var e in a){var r=a[e];if(t-=r.chance,0>t)return r.shape}}}}function M(a,n){var t=Math.random()*Math.PI*2,e=a+Math.random()*n,r=Math.cos(t)*e,i=Math.sin(t)*e;return[r,i]}function I(a,n,t){function e(){c&&c--,c||(b.visible=!1,b.hiding=!1),u=c/s,v=Math.pow(u,.25)}function r(){s>c?c++:b.showing=!1,u=c/s,v=Math.pow(u,.25)}var i,o,l,c=0,s=24,u=0,v=0,d=48*t,f="bold "+d+"px Arial, sans-serif",h=36*t,m="bold "+h+"px Arial, sans-serif",p=22*t,g=p+"px Arial, sans-serif",b={tick:r,hiding:!1,showing:!1,visible:!1,hide:function(){b.showing=!1,b.tick=e,b.hiding=!0},paint:function(t){t.fillStyle="rgba(0, 0, 0, "+.7*v+")",t.fillRect(0,0,a,n),t.fillStyle="rgba(255, 255, 255, "+v+")",t.textAlign="center",t.textBaseline="top";var e=a/2,r=n/4+n*v/4-1.5*d;t.save(),t.translate(e,r),t.font=g,t.fillText("YOUR SCORE",0,0),t.translate(0,p),t.font=f,t.fillText(i,0,0),t.translate(0,d+p),l?(t.font=m,t.fillStyle="hsl(60, 90%, 70%)",t.fillText("NEW RECORD!",0,0)):(t.font=g,t.fillText("HIGH SCORE",0,0),t.translate(0,p),t.font=f,t.fillText(o,0,0)),t.restore()},show:function(a,n){i=a,o=n,l=i>o,b.visible=!0,b.hiding=!1,b.tick=r,b.showing=!0}};return b}function N(a,n,t){var e=0,r=10*t,i=a-n+10*t,o="bold "+26*t+"px Arial, sans-serif";return{add:function(a){e+=a},get:function(){return e},paint:function(a){a.textBaseline="top",a.font=o,a.textAlign="left",a.fillStyle="#777",a.fillText(e,r,i)},reset:function(){e=0}}}function P(a){for(var n=0;n<a.length;n++){var t=a[n],e=n+Math.floor(Math.random()*(a.length-n));a[n]=a[e],a[e]=t}return a}function y(a,n,t,e,r){var i={colNumber:r,id:Math.random(),rowNumber:e,shape:t,x:a,y:n,paint:function(n){i.shape.paint(n,a,i.y)}};return i}function S(a,n,e,r,i,o,l,c,u,v){function d(a){var n=a.id;N[n]=a,S[a.colNumber][n]=a,f(a)}function f(a){!T.gameOver&&a.rowNumber>=B&&(T.gameOver=!0,v())}function h(a,t){for(var e=n+a*n,l=n-o-M,c=0;t>c;c++){var s=i(),u=y(e,l,s,0,a);d(u),m(u,w+I),e+=r,a+=2}}function m(a,n){var t=a.id;P[t]?P[t].steps+=n:P[t]={steps:n,bubble:a}}function g(a){var n=a.id;delete N[n],delete S[a.colNumber][n]}function C(){for(var a in N){var n=N[a];m(n,w),n.rowNumber++,f(n)}E?h(1,e-1):h(0,e),E=!E,M+=o,I+=w}for(var w=4,x=o/w,M=0,I=0,N={},P={},S={},k=0;2*e-1>k;k++)S[k]={};var B=Math.floor((a-r)/o),E=!1,G=3;window.stillBubbles=N,window.columns=S;var T={gameOver:!1,shift:C,stillBubbles:N,add:function(a){var e=a.y,i=I*x-n,v=Math.round((e+i)/o);e=v*o-i;var f=(v+(E?1:0))%2?n:0,h=a.x;h=Math.round((h-f)/r)*r+f;var C=a.shape,w=C.isInjection;w&&(C=a.shape=C.normalShape);var M=Math.floor(h/n)-1,N=y(h,e,C,v,M);if(d(N),I&&m(N,I),w){var P=s(N,S);for(var k in P)P[k].shape=C}else{var B=p(N,S);if(B.length>=G){var T=t(S,B),j=2*-(G-1);for(var k in T){var L=T[k];g(L),l(L.x,L.y,L.shape),j+=2}var A=b(S);for(var k in A){var D=A[k];g(D),c(D.x,D.y,D.shape),j+=1}u(j)}}},getData:function(){var a={odd:E,bubbles:[],shiftIndex:I};for(var n in N){var t=N[n],e=t.shape;a.bubbles.push({colNumber:t.colNumber,rowNumber:t.rowNumber,shape:{colorName:e.colorName,isBomb:e.isBomb}})}return a},isOdd:function(){return E},paint:function(a){for(var n in N)N[n].paint(a)},reset:function(){T.gameOver=!1,P={};for(var a in N)delete N[a];for(var a in S){var n=S[a];for(var a in n)delete n[a]}C(),C(),C()},setData:function(a,t){E=a.odd,I=Math.max(0,Math.floor(a.shiftIndex)),isFinite(I)||(I=0),M=I*o;for(var e in N)delete N[e];for(var e in S){var r=S[e];for(var e in r)delete r[e]}for(var e in P)delete P[e];var i=a.bubbles;for(var e in i){var l=i[e],c=t(l.shape);if(c){var s=l.colNumber,u=l.rowNumber,v=n+s*n,f=n+u*o,h=y(v,f,c,u,s);d(h)}}},tick:function(){for(var a in P){var n=P[a];n.steps--,n.bubble.y+=x,n.steps||(delete P[a],a--)}I&&(I--,M-=x)}};return T}function k(a,n,t){function e(){var a=document.createElement("canvas");a.width=a.height=i;for(var t=a.getContext("2d"),e=t.createImageData(i,i),o=0;i>o;o++)for(var l=0;i>l;l++){var c=l-r,s=o-r,u=Math.sqrt(c*c+s*s)/n,v=Math.atan(s/c);0>c&&(v+=Math.PI),v-=.3;var d=0,f=0,h=0;d=Math.abs(v-Math.PI/2)-1,f=-Math.abs(v-Math.PI/3)+2,h=-Math.abs(v-2*Math.PI/3)+2,d=255*Math.max(0,Math.min(1,1-d*u)),f=255*Math.max(0,Math.min(1,1-f*u)),h=255*Math.max(0,Math.min(1,1-h*u)),d=16+223*d/256,f=16+223*f/256,h=16+223*h/256;var m=4*(o*i+l);e.data[m]=d,e.data[m+1]=f,e.data[m+2]=h,e.data[m+3]=255}return t.putImageData(e,0,0),a}var r=n+2,i=Math.floor(2*r),o=document.createElement("canvas");o.width=o.height=i;var l=o.getContext("2d");return l.arc(r,r,n,0,2*Math.PI),l.fill(),l.globalCompositeOperation="source-atop",l.drawImage(e(),0,0),{isAnyColor:!0,colorName:"anyColor",laserGradient:function(){for(var n=l.createLinearGradient(0,0,0,a),t=0;6>=t;t++){var e=t/6,r=360*e,i=.2*e;n.addColorStop(e,"hsla("+r+", 100%, 50%, "+i+")")}return n}(),particleCanvases:t,getParticleCanvases:function(a){for(var n=[],e=0;a>e;e++){var r=Math.floor(Math.random()*t.length);n.push(t[r])}return n},paint:function(a,n,t){a.drawImage(o,n-r,t-r)}}}function B(a,n){var t="hsl(0, 0%, 40%)",e=a+2,r=G(t,"hsl(0, 0%, 15%)",a),i=w(n,t);return{color:t,colorName:"black",isBlack:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(i);return n},paint:function(a,n,t){a.drawImage(r,n-e,t-e)}}}function E(a,n,t){var e="hsl(220, 100%, 70%)",r=n+2,i=G(e,"hsl(220, 100%, 55%)",n),o=i.getContext("2d"),l=w(t,e);return{color:e,colorName:"blue",laserGradient:v(a,o,220,100,70),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function G(a,n,t){var e=t+2,r=document.createElement("canvas");r.width=r.height=2*e;var i=r.getContext("2d"),o=-t/2,l=i.createRadialGradient(0,o,0,0,o,2*t);return l.addColorStop(0,a),l.addColorStop(.5,n),l.addColorStop(1,a),i.fillStyle=l,i.translate(e,e),i.arc(0,0,t,0,2*Math.PI),i.fillStyle=l,i.fill(),r}function T(a,n,t){var e="hsl(100, 100%, 40%)",r=n+2,i=G(e,"hsl(100, 100%, 30%)",n),o=i.getContext("2d"),l=w(t,e);return{color:e,colorName:"green",laserGradient:v(a,o,100,100,40),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function j(a,n,t){var e="hsl(5, 100%, 65%)",r=n+2,i=G(e,"hsl(5, 100%, 40%)",n),o=i.getContext("2d"),l=w(t,e);return{color:e,colorName:"red",laserGradient:v(a,o,5,100,65),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function L(a,n,t){var e="hsl(300, 100%, 60%)",r=n+2,i=G(e,"hsl(300, 100%, 40%)",n),o=i.getContext("2d"),l=w(t,e);return{color:e,colorName:"violet",laserGradient:v(a,o,300,100,60),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function A(a,n,t){var e="hsl(0, 0%, 90%)",r=n+2,i=G(e,"hsl(0, 0%, 70%)",n),o=i.getContext("2d"),l=w(t,e);return{color:e,colorName:"white",laserGradient:v(a,o,0,0,90),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function D(a,n,t){var e="hsl(60, 90%, 70%)",r=n+2,i=G(e,"hsl(60, 90%, 40%)",n),o=i.getContext("2d"),l=w(t,e);return{color:e,colorName:"yellow",laserGradient:v(a,o,60,90,70),getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(l);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function O(a,n){var t="hsl(220, 100%, 70%)",r=a+2,i=G(t,"hsl(220, 100%, 55%)",a);R(i,a,"hsla(220, 85%, 25%, 0.6)");var o=e(n,t);return{color:t,colorName:"blue",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function R(a,n,t){var e=a.getContext("2d");e.beginPath(),e.arc(0,0,.2*n,0,2*Math.PI),e.fillStyle=t,e.fill();var r=3,i=2*Math.PI/r,o=.6*n,l=Math.PI/3;e.lineWidth=.6*n,e.beginPath(),e.rotate(-Math.PI/2-l/2);for(var c=0;r>c;c++)e.moveTo(o,0),e.arc(0,0,o,0,l),e.rotate(i);e.strokeStyle=t,e.stroke()}function q(a,n){var t="hsl(100, 100%, 40%)",r=a+2,i=G(t,"hsl(100, 100%, 30%)",a);R(i,a,"hsla(100, 85%, 15%, 0.6)");var o=e(n,t);return{color:t,colorName:"green",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function H(a,n){var t="hsl(5, 100%, 65%)",r=a+2,i=G(t,"hsl(5, 100%, 40%)",a);R(i,a,"hsla(5, 85%, 20%, 0.6)");var o=e(n,t);return{color:t,colorName:"red",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function W(a,n){var t="hsl(300, 100%, 60%)",r=a+2,i=G(t,"hsl(300, 100%, 40%)",a);R(i,a,"hsla(300, 85%, 20%, 0.6)");var o=e(n,t);return{color:t,colorName:"violet",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function F(a,n){var t="hsl(0, 0%, 90%)",r=a+2,i=G(t,"hsl(0, 0%, 70%)",a);R(i,a,"hsla(0, 0%, 25%, 0.5)");var o=e(n,t);return{color:t,colorName:"white",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function J(a,n){var t="hsl(60, 90%, 70%)",r=a+2,i=G(t,"hsl(60, 90%, 40%)",a);R(i,a,"hsla(60, 80%, 15%, 0.6)");var o=e(n,t);return{color:t,colorName:"yellow",isBomb:!0,getParticleCanvases:function(a){for(var n=[],t=0;a>t;t++)n.push(o);return n},paint:function(a,n,t){a.drawImage(i,n-r,t-r)}}}function Y(a,n,t,e){var r="hsl(220, 100%, 70%)",i=n+2,o=G(r,"hsl(220, 100%, 55%)",n);return X(o,t,"hsla(220, 85%, 20%, 0.6)"),{color:r,colorName:"blue",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function X(a,n,t){function e(a,n){i+=a,o+=n,r.lineTo(i,o)}var r=a.getContext("2d"),i=-11,o=-7;r.scale(n,n),r.beginPath(),r.moveTo(i,o),e(4,-4),e(1,1),e(-1,1),e(3.5,3.5),e(3.5,-3.5),e(1,1),e(-1.5,1.5),e(9,9),e(-2.5,2.5),e(3.5,3.5),e(0,2),e(-4.5,-4.5),e(-2.5,2.5),e(-9,-9),e(-1.5,1.5),e(-1,-1),e(3.5,-3.5),e(-3.5,-3.5),e(-1,1),r.closePath(),r.fillStyle=t,r.fill()}function z(a,n,t,e){var r="hsl(100, 100%, 40%)",i=n+2,o=G(r,"hsl(100, 100%, 30%)",n);return X(o,t,"hsla(100, 85%, 10%, 0.6)"),{color:r,colorName:"green",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function U(a,n,t,e){var r="hsl(5, 100%, 65%)",i=n+2,o=G(r,"hsl(5, 100%, 40%)",n);return X(o,t,"hsla(5, 85%, 15%, 0.6)"),{color:r,colorName:"red",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function K(a,n,t,e){var r="hsl(300, 100%, 60%)",i=n+2,o=G(r,"hsl(300, 100%, 40%)",n);return X(o,t,"hsla(300, 85%, 15%, 0.6)"),{color:r,colorName:"violet",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function Q(a,n,t,e){var r="hsl(0, 0%, 90%)",i=n+2,o=G(r,"hsl(0, 0%, 70%)",n);return X(o,t,"hsla(0, 0%, 20%, 0.5)"),{color:r,colorName:"white",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}function V(a,n,t,e){var r="hsl(60, 90%, 70%)",i=n+2,o=G(r,"hsl(60, 90%, 40%)",n);return X(o,t,"hsla(60, 80%, 10%, 0.6)"),{color:r,colorName:"yellow",getParticleCanvases:e.getParticleCanvases,isInjection:!0,laserGradient:e.laserGradient,normalShape:e,paint:function(a,n,t){a.drawImage(o,n-i,t-i)}}}!function(){function a(){n=f(),t.appendChild(n.element)}var n,t=document.body;a(),addEventListener("resize",function(){n.destroy(),document.body.removeChild(n.element),n=f(),t.appendChild(n.element)})}()}();